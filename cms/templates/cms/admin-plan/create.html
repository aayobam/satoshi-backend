{% extends 'admin_base.html' %}
{% load static %}


{% block content %}
<section class="panel-section" style="margin-top: -700px;">
  <div class="panel-content">
    <div class="page-wrapper admin-wrapper">		
      <section class="alt-nav">
          <h4>Add Plan</h4>
          <a href="{% url 'admin-plan-list' %}" class="btn">Manage Plan</a>
      </section> 
      <div class="content-container">
          <section class="add-product">
              <div class="fields-wrapper">
                  <form action="" method="POST" enctype="multipart/form-data">
                  {% csrf_token %}
                      
                    <div>
                        <label for="productName">Title</label>
                        {{ form.title}}
                    </div>
                    
                    <div>
                        <label for="productName">Description</label>
                        {{ form.desc }}
                    </div>

                    <div>
                        <label for="productLink">Price</label>
                        {{form.price}}
                    </div>

                    <div>
                        <label for="price">Discount Percentage</label>
                        {{form.discount_percentage}}
                    </div>

                    <div>
                        <label for="price">Discount Price</label>
                        {{form.discount_price}}
                    </div>

                    <div>
                        <label for="price">Duration In Days</label>
                        {{form.duration_in_days}}
                    </div>
                    <button class="btn" type="submit" name="submit-btn">Add Plan</button>
                  </form>
              </div>
          </section>
      </div>
    </div>
  </div>
</section>

<script>
    const title_input = document.querySelector("input[name=title]")
    const slug_input = document.querySelector("input[name=slug]")

    const slugify = (val) => {
        return val.toString().toLowerCase().trim()
        .replace(/[\s\W-]+/g,'-')
    }

    title_input.addEventListener('keyup',(e)=>{
        slug_input.setAttribute('value', slugify(title_input.value))
    });
</script>
{% endblock content %}
  


  